@using Microsoft.AspNetCore.Identity
@using Blog.Models.DbModels
@using Blog.ViewModels.Account
@using Blog.ViewModels.PostController;

@{
    ViewData["Title"] = "Find";
    Layout = "_Layout_authefication";
    var users = (IQueryable<UserIndentity>)ViewData["Users"];
}

@inject SignInManager<UserIndentity> SignInManager;
@inject UserManager<UserIndentity> UserManager;

@section Css{
    <link rel="stylesheet" href="~/css/find-page.css" />
}

<div class="row">
    <div class="col col-sm-12 col-md-9">
        <div class="content-news">
            <div class="block block-1">
                <table class="table">
                            <thead>
                                <tr>
                                <th scope="col">#</th>
                                <th scope="col">First</th>
                                <th scope="col">Last</th>
                                <th scope="col">Handle</th>
                                </tr>
                            </thead>
                            <tbody>
                                @{
                                    int iterator = 1;
                                    foreach(var item in users){
                                        
                                                <tr>
                                                <th scope="row">@iterator</th>
                                                <td>@item.UserName</td>
                                                <td>Otto</td>
                                                <td>
                                                    <form method="POST" asp-route-userId="@item.Id" asp-action="AddFollow" asp-controller="Users">
                                                        <button class="btn btn-dark" type="submit"></button>
                                                    </form>
                                                </td>
                                                </tr>
                                            
                                    }
                                }
                </tbody>
                        </table>
            </div>        
            
            <div class="content">
                <div class="block block-2">
                
                </div>        
            
                <div class="block block-2">
                
                </div>        
            
            </div>
            
        </div>
    </div>
    <div class="col col-sm-12 col-md-3">
        <div class="block block-3">
                
            </div>        
    </div>
</div>

<p>IT'S the NEWS</p>
<p>IT'S the NEWS</p>
<p>IT'S the NEWS</p>
<p>IT'S the NEWS</p>
<p>IT'S the NEWS</p>
<p>IT'S the NEWS</p>
<p>IT'S the NEWS</p>
<p>IT'S the NEWS</p>
<a asp-action="Profile" asp-route-userId="@UserManager.GetUserId(User)">CLICK ME!</a>


@section Scripts
    {
        <script></script>
    }